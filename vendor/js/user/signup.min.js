function isEmail(e){return/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e.trim())}function validate(e,t){switch(e){case"email":return isEmail(t);default:return"what do you want?"}}function showError(e,t){if(e.nextElementSibling&&e.nextElementSibling.id!==`${e.type}-error`||!e.nextElementSibling){const r=document.createElement("p");r.id=`${e.type}-error`,r.classList.add("error-input"),r.innerHTML=t,e.parentNode.appendChild(r)}return e.focus(),!1}document.getElementsByTagName("form")[0].addEventListener("submit",function(e){e.preventDefault();let t=document.querySelector("input[name=email]"),r=document.querySelector("input[name=password]"),n=document.querySelector("input[name=lname]"),i=document.querySelector("input[name=fname]");return""===n.value.trim()?showError(n,"Không được để trống họ"):n.value.trim().length>40?showError(n,"Họ quá dài"):""===i.value.trim()?showError(i,"Không được để trống tên"):i.value.trim().length>10?showError(i,"Tên quá dài"):""===t.value.trim()?showError(t,"Không được để trống email"):!1===isEmail(t.value)?showError(t,"Email không hợp lệ"):""===r.value.trim()?showError(r,"Không được để trống mật khẩu"):r.value.trim().length<6?showError(r,"Mật khẩu quá ngắn"):void this.submit()}),document.getElementsByTagName("form")[0].addEventListener("input",function(e){let t=e.target.nextElementSibling;t&&t.id===`${e.target.type}-error`&&t.remove()});